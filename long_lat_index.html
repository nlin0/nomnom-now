// SCATTER ANIMATION
    function updateScatterPlot(data) {
      const container = document.getElementById("scatterplot-container");
      const width = container.clientWidth + 10;
      const height = container.clientHeight - 30;

      const svg = d3.select("#scatterplot g");

      const x = d3.scaleLinear()
        .domain([0, d3.max(data, d => parseFloat(d.distance))])
        .range([0, width - 90]);

      const y = d3.scaleLinear()
        .domain([2.95, d3.max(data, d => d.ourScore)])
        .range([height - 30, 0]);

      svg.select(".x-axis")
        .transition()
        .duration(1000)
        .call(d3.axisBottom(x).ticks(4));

      svg.select(".y-axis")
        .transition()
        .duration(1000)
        .call(d3.axisLeft(y).ticks(4));

      const colorScale = d3.scaleLinear()
        .domain([3, 5])
        .range(["orange", "green"]);

      const points = svg.selectAll("circle")
        .data(data, d => d.name);

      points.enter()
        .append("circle")
        .attr("r", 4)
        .attr("fill", d => colorScale(d.rating))
        .attr("opacity", 0)
        .attr("cx", d => x(d.distance))
        .attr("cy", d => y(d.ourScore))
        .transition()
        .duration(1800)
        .attr("opacity", 0.4);

      points.transition()
        .duration(800)
        .attr("cx", d => x(d.distance))
        .attr("cy", d => y(d.ourScore))
        .attr("fill", d => colorScale(d.rating))
        .attr("opacity", 0.4);

      points.exit()
        .transition()
        .duration(500)
        .attr("opacity", 0)
        .remove();
    }